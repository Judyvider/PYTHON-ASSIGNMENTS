# Import required libraries
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Load dataset (adjust path as needed)
df = pd.read_csv("data/metadata.csv")

# Show first few rows
print("Dataset Preview:")
display(df.head())

# Check dataset info
print("\nDataset Info:")
print(df.info())

# Handle missing values
df = df.dropna(subset=['title', 'abstract', 'publish_time'])
df['publish_time'] = pd.to_datetime(df['publish_time'], errors='coerce')

# Basic analysis: publications per year
df['year'] = df['publish_time'].dt.year
pubs_per_year = df['year'].value_counts().sort_index()

plt.figure(figsize=(8,5))
sns.lineplot(x=pubs_per_year.index, y=pubs_per_year.values)
plt.title("Publications per Year")
plt.xlabel("Year")
plt.ylabel("Number of Papers")
plt.show()

# Top 10 journals
top_journals = df['journal'].value_counts().head(10)
plt.figure(figsize=(10,5))
sns.barplot(x=top_journals.values, y=top_journals.index)
plt.title("Top 10 Journals by Publications")
plt.xlabel("Number of Papers")
plt.ylabel("Journal")
plt.show()
